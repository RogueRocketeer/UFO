<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Overview - UFO Documentation</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Overview";
        var mkdocs_page_input_path = "dataflow/overview.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> UFO Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../project_directory_structure/">Project Directory Structure</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Getting Started</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../getting_started/quick_start/">Quick Start</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../getting_started/more_guidance/">More Guidance</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Basic Modules</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../modules/session/">Session</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../modules/round/">Round</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../modules/context/">Context</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Configurations</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../configurations/user_configuration/">User Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../configurations/developer_configuration/">Developer Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../configurations/pricing_configuration/">Model Pricing</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Supported Models</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../supported_models/overview/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../supported_models/openai/">OpenAI</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../supported_models/azure_openai/">Azure OpenAI</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../supported_models/gemini/">Gemini</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../supported_models/claude/">Claude</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../supported_models/qwen/">Qwen</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../supported_models/ollama/">Ollama</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../supported_models/custom_model/">Custom Model</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Agents</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../agents/overview/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Agent Design</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../agents/design/memory/">Memory</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../agents/design/blackboard/">Blackboard</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../agents/design/state/">State</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../agents/design/prompter/">Prompter</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../agents/design/processor/">Processor</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../agents/host_agent/">HostAgent</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../agents/app_agent/">AppAgent</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../agents/follower_agent/">FollowerAgent</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../agents/evaluation_agent/">EvaluationAgent</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Prompts</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../prompts/overview/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../prompts/basic_template/">Basic Prompts</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../prompts/examples_prompts/">Examples Prompts</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../prompts/api_prompts/">API Prompts</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Automator</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../automator/overview/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../automator/ui_automator/">UI Automator</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../automator/wincom_automator/">API Automator</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../automator/web_automator/">Web Automator</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../automator/bash_automator/">Bash Automator</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../automator/ai_tool_automator/">AI Tool</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Logs</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../logs/overview/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../logs/request_logs/">Request Logs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../logs/step_logs/">Step Logs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../logs/evaluation_logs/">Evaluation Logs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../logs/screenshots_logs/">Screenshots</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../logs/ui_tree_logs/">UI Tree</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Advanced Usage</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" >Reinforcing AppAgent</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../advanced_usage/reinforce_appagent/overview/">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../advanced_usage/reinforce_appagent/learning_from_help_document/">Learning from Help Document</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../advanced_usage/reinforce_appagent/learning_from_bing_search/">Learning from Bing Search</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../advanced_usage/reinforce_appagent/experience_learning/">Experience Learning</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../advanced_usage/reinforce_appagent/learning_from_demonstration/">Learning from User Demonstration</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../advanced_usage/follower_mode/">Follower Mode</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../advanced_usage/batch_mode/">Batch Mode</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Control Filtering</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../advanced_usage/control_filtering/overview/">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../advanced_usage/control_filtering/text_filtering/">Text Filtering</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../advanced_usage/control_filtering/semantic_filtering/">Semantic Filtering</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../advanced_usage/control_filtering/icon_filtering/">Icon Filtering</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../advanced_usage/customization/">Customization</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Creating Your AppAgent</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../creating_app_agent/overview/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../creating_app_agent/help_document_provision/">Help Document Provision</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../creating_app_agent/demonstration_provision/">Demonstration Provision</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../creating_app_agent/warpping_app_native_api/">Warpping App-Native API</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Dataflow</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Overview</a>
    <ul class="current">
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../instantiation/">Instantiation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../execution/">Execution</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../windows_app_env/">Windows App Environment</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../result_schema/">Result Schema</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">About</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../about/CONTRIBUTING/">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../about/LICENSE/">License</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../about/CODE_OF_CONDUCT/">Code of Conduct</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../about/DISCLAIMER/">Disclaimer</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../about/SUPPORT/">Support</a>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../faq/">FAQ</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">UFO Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Dataflow</li>
      <li class="breadcrumb-item active">Overview</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="introduction">Introduction</h1>
<p>This repository contains the implementation of the <strong>Data Collection</strong> process for training the <strong>Large Action Models</strong> (LAMs) in the paper of <a href="https://arxiv.org/abs/2412.10047">Large Action Models: From Inception to Implementation</a>. The <strong>Data Collection</strong> process is designed to streamline task processing, ensuring that all necessary steps are seamlessly integrated from initialization to execution. This module is part of the <a href="https://arxiv.org/abs/2402.07939"><strong>UFO</strong></a> project.</p>
<h1 id="dataflow">Dataflow</h1>
<p>Dataflow uses UFO to implement <code>instantiation</code>, <code>execution</code>, and <code>dataflow</code> for a given task, with options for batch processing and single processing.</p>
<ol>
<li><strong><a href="../instantiation/">Instantiation</a></strong>:  Instantiation refers to the process of setting up and preparing a task for execution. This step typically involves <code>choosing template</code>, <code>prefill</code> and <code>filter</code>.</li>
<li><strong><a href="./Execution.md">Execution</a></strong>: Execution is the actual process of running the task. This step involves carrying out the actions or operations specified by the <code>Instantiation</code>. And after execution, an evaluate agent will evaluate the quality of the whole execution process.</li>
<li><strong>Dataflow</strong>: Dataflow is the overarching process that combines <strong>instantiation</strong> and <strong>execution</strong> into a single pipeline. It provides an end-to-end solution for processing tasks, ensuring that all necessary steps (from initialization to execution) are seamlessly integrated.</li>
</ol>
<p>You can use <code>instantiation</code> and <code>execution</code> independently if you only need to perform one specific part of the process. When both steps are required for a task, the <code>dataflow</code> process streamlines them, allowing you to execute tasks from start to finish in a single pipeline.</p>
<p>The overall processing of dataflow is as below. Given a task-plan data, the LLMwill instantiatie the task-action data, including choosing template, prefill, filter.</p>
<h1 align="center">
    <img src="../../img/overview.png">
</h1>

<h2 id="how-to-use">How To Use</h2>
<h3 id="1-install-packages">1. Install Packages</h3>
<p>You should install the necessary packages in the UFO root folder:</p>
<pre><code class="language-bash">pip install -r requirements.txt
</code></pre>
<h3 id="2-configure-the-llms">2. Configure the LLMs</h3>
<p>Before running dataflow, you need to provide your LLM configurations <strong>individually for PrefillAgent and FilterAgent</strong>. You can create your own config file <code>dataflow/config/config.yaml</code>, by copying the <code>dataflow/config/config.yaml.template</code> and editing config for <strong>PREFILL_AGENT</strong> and <strong>FILTER_AGENT</strong> as follows:</p>
<h4 id="openai">OpenAI</h4>
<pre><code class="language-bash">VISUAL_MODE: True, # Whether to use the visual mode
API_TYPE: &quot;openai&quot; , # The API type, &quot;openai&quot; for the OpenAI API.  
API_BASE: &quot;https://api.openai.com/v1/chat/completions&quot;, # The the OpenAI API endpoint.
API_KEY: &quot;sk-&quot;,  # The OpenAI API key, begin with sk-
API_VERSION: &quot;2024-02-15-preview&quot;, # &quot;2024-02-15-preview&quot; by default
API_MODEL: &quot;gpt-4-vision-preview&quot;,  # The only OpenAI model
</code></pre>
<h4 id="azure-openai-aoai">Azure OpenAI (AOAI)</h4>
<pre><code class="language-bash">VISUAL_MODE: True, # Whether to use the visual mode
API_TYPE: &quot;aoai&quot; , # The API type, &quot;aoai&quot; for the Azure OpenAI.  
API_BASE: &quot;YOUR_ENDPOINT&quot;, #  The AOAI API address. Format: https://{your-resource-name}.openai.azure.com
API_KEY: &quot;YOUR_KEY&quot;,  # The aoai API key
API_VERSION: &quot;2024-02-15-preview&quot;, # &quot;2024-02-15-preview&quot; by default
API_MODEL: &quot;gpt-4-vision-preview&quot;,  # The only OpenAI model
API_DEPLOYMENT_ID: &quot;YOUR_AOAI_DEPLOYMENT&quot;, # The deployment id for the AOAI API
</code></pre>
<p>You can also non-visial model (e.g., GPT-4) for each agent, by setting <code>VISUAL_MODE: False</code> and proper <code>API_MODEL</code> (openai) and <code>API_DEPLOYMENT_ID</code> (aoai).</p>
<h4 id="non-visual-model-configuration">Non-Visual Model Configuration</h4>
<p>You can utilize non-visual models (e.g., GPT-4) for each agent by configuring the following settings in the <code>config.yaml</code> file:</p>
<ul>
<li><code>VISUAL_MODE: False # To enable non-visual mode.</code></li>
<li>Specify the appropriate <code>API_MODEL</code> (OpenAI) and <code>API_DEPLOYMENT_ID</code> (AOAI) for each agent.</li>
</ul>
<p>Ensure you configure these settings accurately to leverage non-visual models effectively.</p>
<h4 id="other-configurations">Other Configurations</h4>
<p><code>config_dev.yaml</code> specifies the paths of relevant files and contains default settings. The match strategy for the window match and control filter supports options:  <code>'contains'</code>, <code>'fuzzy'</code>, and <code>'regex'</code>, allowing flexible matching strategy for users. The <code>MAX_STEPS</code> is the max step for the execute_flow, which can be set by users. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The specific implementation and invocation method of the matching strategy can refer to <a href="../windows_app_env/">windows_app_env</a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>BE CAREFUL!</strong> If you are using GitHub or other open-source tools, do not expose your <code>config.yaml</code> online, as it contains your private keys.</p>
</div>
<h3 id="3-prepare-files">3. Prepare Files</h3>
<p>Certain files need to be prepared before running the task.</p>
<h4 id="31-tasks-as-json">3.1. Tasks as JSON</h4>
<p>The tasks that need to be instantiated should be organized in a folder of JSON files, with the default folder path set to dataflow <code>/tasks</code>. This path can be changed in the <code>dataflow/config/config.yaml</code> file, or you can specify it in the terminal, as mentioned in <strong>4. Start Running</strong>. For example, a task stored in <code>dataflow/tasks/prefill/</code> may look like this:</p>
<pre><code class="language-json">{
    // The app you want to use
    &quot;app&quot;: &quot;word&quot;,
    // A unique ID to distinguish different tasks 
    &quot;unique_id&quot;: &quot;1&quot;,
    // The task and steps to be instantiated
    &quot;task&quot;: &quot;Type 'hello' and set the font type to Arial&quot;,
    &quot;refined_steps&quot;: [
        &quot;Type 'hello'&quot;,
        &quot;Set the font to Arial&quot;
    ]
}
</code></pre>
<h4 id="32-templates-and-descriptions">3.2. Templates and Descriptions</h4>
<p>You should place an app file as a reference for instantiation in a folder named after the app.</p>
<p>For example, if you have <code>template1.docx</code> for Word, it should be located at <code>dataflow/templates/word/template1.docx</code>.</p>
<p>Additionally, for each app folder, there should be a <code>description.json</code> file located at <code>dataflow/templates/word/description.json</code>, which describes each template file in detail. It may look like this:</p>
<pre><code class="language-json">{
    &quot;template1.docx&quot;: &quot;A document with a rectangle shape&quot;,
    &quot;template2.docx&quot;: &quot;A document with a line of text&quot;
}
</code></pre>
<p>If a <code>description.json</code> file is not present, one template file will be selected at random.</p>
<h4 id="33-final-structure">3.3. Final Structure</h4>
<p>Ensure the following files are in place:</p>
<ul class="task-list">
<li class="task-list-item"><input type="checkbox" disabled checked/> JSON files to be instantiated</li>
<li class="task-list-item"><input type="checkbox" disabled checked/> Templates as references for instantiation</li>
<li class="task-list-item"><input type="checkbox" disabled checked/> Description file in JSON format</li>
</ul>
<p>The structure of the files can be:</p>
<pre><code class="language-txt">dataflow/
|
├── tasks
│   └── prefill
│       ├── bulleted.json
│       ├── delete.json
│       ├── draw.json
│       ├── macro.json
│       └── rotate.json
├── templates
│   └── word
│       ├── description.json
│       ├── template1.docx
│       ├── template2.docx
│       ├── template3.docx
│       ├── template4.docx
│       ├── template5.docx
│       ├── template6.docx
│       └── template7.docx
└── ...
</code></pre>
<h3 id="4-start-running">4. Start Running</h3>
<p>After finishing the previous steps, you can use the following commands in the command line. We provide single / batch process, for which you need to give the single file path / folder path. Determine the type of path provided by the user and automatically decide whether to process a single task or batch tasks.</p>
<p>Also, you can choose to use <code>instantiation</code> / <code>execution</code> sections individually, or use them as a whole section, which is named as <code>dataflow</code>.</p>
<p>The default task hub is set to be <code>"TASKS_HUB"</code> in <code>dataflow/config_dev.yaml</code>.</p>
<ul>
<li>Dataflow Task:</li>
</ul>
<pre><code class="language-bash">python -m dataflow -dataflow --task_path path_to_task_file
</code></pre>
<ul>
<li>Instantiation Task:</li>
</ul>
<pre><code class="language-bash">python -m dataflow -instantiation --task_path path_to_task_file
</code></pre>
<ul>
<li>Execution Task:</li>
</ul>
<pre><code class="language-bash">python -m dataflow -execution --task_path path_to_task_file
</code></pre>
<h2 id="workflow">Workflow</h2>
<h3 id="instantiation">Instantiation</h3>
<p>There are three key steps in the instantiation process:</p>
<ol>
<li><code>Choose a template</code> file according to the specified app and instruction.</li>
<li><code>Prefill</code> the task using the current screenshot.</li>
<li><code>Filter</code> the established task.</li>
</ol>
<p>Given the initial task, the dataflow first choose a template (<code>Phase 1</code>), the prefill the initial task based on word envrionment to obtain task-action data (<code>Phase 2</code>). Finnally, it will filter the established task to evaluate the quality of task-action data.</p>
<h1 align="center">
    <img src="../../img/instantiation.png"/> 
</h1>
<h4 id="1-choose-template-file">1. Choose Template File</h4>
<p>Templates for your app must be defined and described in <code>dataflow/templates/app</code>. For instance, if you want to instantiate tasks for the Word application, place the relevant <code>.docx</code> files in dataflow <code>/templates/word</code>, along with a <code>description.json</code> file.</p>
<p>The appropriate template will be selected based on how well its description matches the instruction.</p>
<h4 id="2-prefill-the-task">2. Prefill the Task</h4>
<p>After selecting the template file, it will be opened, and a screenshot will be taken. If the template file is currently in use, errors may occur.</p>
<p>The screenshot will be sent to the action prefill agent, which will return a modified task.</p>
<h4 id="3-filter-task">3. Filter Task</h4>
<p>The completed task will be evaluated by a filter agent, which will assess it and provide feedback.</p>
<p>The more detailed code design documentation for instantiation can be found in <a href="../instantiation/">instantiation</a>.</p>
<h3 id="execution">Execution</h3>
<p>The instantiated plans will be executed by a execute task. After execution, evalution agent will evaluation the quality of the entire execution process.</p>
<p>In this phase, given the task-action data, the execution process will match the real controller based on word environment and execute the plan step by step.</p>
<h1 align="center">
    <img src="../../img/execution.png"/> 
</h1>

<p>The more detailed code design documentation for execution can be found in <a href="../execution/">execution</a>.</p>
<h2 id="result">Result</h2>
<p>The structure of the results of the task is as below:</p>
<pre><code class="language-txt">UFO/
├── dataflow/                       # Root folder for dataflow
│   └── results/                    # Directory for storing task processing results
│       ├── saved_document/         # Directory for final document results
│       ├── instantiation/          # Directory for instantiation results
│       │   ├── instantiation_pass/ # Tasks successfully instantiated
│       │   └── instantiation_fail/ # Tasks that failed instantiation
│       ├── execution/              # Directory for execution results
│       │   ├── execution_pass/     # Tasks successfully executed
│       │   ├── execution_fail/     # Tasks that failed execution
│       │   └── execution_unsure/   # Tasks with uncertain execution results
│       ├── dataflow/               # Directory for dataflow results
│       │   ├── execution_pass/     # Tasks successfully executed
│       │   ├── execution_fail/     # Tasks that failed execution
│       │   └── execution_unsure/   # Tasks with uncertain execution results
│       └── ...
└── ...
</code></pre>
<ol>
<li><strong>General Description:</strong></li>
</ol>
<p>This directory structure organizes the results of task processing into specific categories, including instantiation, execution, and dataflow outcomes.
2. <strong>Instantiation:</strong></p>
<p>The <code>instantiation</code> directory contains subfolders for tasks that were successfully instantiated (<code>instantiation_pass</code>) and those that failed during instantiation (<code>instantiation_fail</code>).
3. <strong>Execution:</strong></p>
<p>Results of task execution are stored under the <code>execution</code> directory, categorized into successful tasks (<code>execution_pass</code>), failed tasks (<code>execution_fail</code>), and tasks with uncertain outcomes (<code>execution_unsure</code>).
4. <strong>Dataflow Results:</strong></p>
<p>The <code>dataflow</code> directory similarly holds results of tasks based on execution success, failure, or uncertainty, providing a comprehensive view of the data processing pipeline.
5. <strong>Saved Documents:</strong></p>
<p>Instantiated results are separately stored in the <code>saved_document</code> directory for easy access and reference.</p>
<h3 id="description">Description</h3>
<p>This section illustrates the structure of the result of the task, organized in a hierarchical format to describe the various fields and their purposes. The result data include <code>unique_id</code>，<code>app</code>, <code>original</code>, <code>execution_result</code>, <code>instantiation_result</code>, <code>time_cost</code>.</p>
<h4 id="1-field-descriptions">1. <strong>Field Descriptions</strong></h4>
<ul>
<li><strong>Hierarchy</strong>: The data is presented in a hierarchical manner to allow for a clearer understanding of field relationships.</li>
<li><strong>Type Description</strong>: The type of each field (e.g., <code>string</code>, <code>array</code>, <code>object</code>) clearly specifies the format of the data.</li>
<li><strong>Field Purpose</strong>: Each field has a brief description outlining its function.</li>
</ul>
<h4 id="2-execution-results-and-errors">2. <strong>Execution Results and Errors</strong></h4>
<ul>
<li><strong>execution_result</strong>: Contains the results of task execution, including subtask performance, completion status, and any encountered errors.</li>
<li><strong>instantiation_result</strong>: Describes the process of task instantiation, including template selection, prefilled tasks, and instantiation evaluation.</li>
<li><strong>error</strong>: If an error occurs during task execution, this field will contain the relevant error information.</li>
</ul>
<h4 id="3-time-consumption">3. <strong>Time Consumption</strong></h4>
<ul>
<li><strong>time_cost</strong>: The time spent on each phase of the task, from template selection to task execution, is recorded to analyze task efficiency.</li>
</ul>
<h3 id="example-data">Example Data</h3>
<pre><code class="language-json">{
    &quot;unique_id&quot;: &quot;102&quot;,
    &quot;app&quot;: &quot;word&quot;,
    &quot;original&quot;: {
        &quot;original_task&quot;: &quot;Find which Compatibility Mode you are in for Word&quot;,
        &quot;original_steps&quot;: [
            &quot;1.Click the **File** tab.&quot;,
            &quot;2.Click **Info**.&quot;,
            &quot;3.Check the **Compatibility Mode** indicator at the bottom of the document preview pane.&quot;
        ]
    },
    &quot;execution_result&quot;: {
        &quot;result&quot;: {
            &quot;reason&quot;: &quot;The agent successfully identified the compatibility mode of the Word document.&quot;,
            &quot;sub_scores&quot;: {
                &quot;correct identification of compatibility mode&quot;: &quot;yes&quot;
            },
            &quot;complete&quot;: &quot;yes&quot;
        },
        &quot;error&quot;: null
    },
    &quot;instantiation_result&quot;: {
        &quot;choose_template&quot;: {
            &quot;result&quot;: &quot;dataflow\\results\\saved_document\\102.docx&quot;,
            &quot;error&quot;: null
        },
        &quot;prefill&quot;: {
            &quot;result&quot;: {
                &quot;instantiated_request&quot;: &quot;Identify the Compatibility Mode of the Word document.&quot;,
                &quot;instantiated_plan&quot;: [
                    {
                        &quot;Step&quot;: 1,
                        &quot;Subtask&quot;: &quot;Identify the Compatibility Mode&quot;,
                        &quot;Function&quot;: &quot;summary&quot;,
                        &quot;Args&quot;: {
                            &quot;text&quot;: &quot;The document is in '102 - Compatibility Mode'.&quot;
                        },
                        &quot;Success&quot;: true
                    }
                ]
            },
            &quot;error&quot;: null
        },
        &quot;instantiation_evaluation&quot;: {
            &quot;result&quot;: {
                &quot;judge&quot;: true,
                &quot;thought&quot;: &quot;Identifying the Compatibility Mode of a Word document is a task that can be executed locally within Word.&quot;
            },
            &quot;error&quot;: null
        }
    },
    &quot;time_cost&quot;: {
        &quot;choose_template&quot;: 0.017,
        &quot;prefill&quot;: 11.304,
        &quot;instantiation_evaluation&quot;: 2.38,
        &quot;total&quot;: 34.584,
        &quot;execute&quot;: 0.946,
        &quot;execute_eval&quot;: 10.381
    }
}
</code></pre>
<h2 id="quick-start">Quick Start</h2>
<p>We prepare two cases to show the dataflow, which can be found in <code>dataflow\tasks\prefill</code>. So after installing required packages, you can type the following command in the command line:</p>
<pre><code>python -m dataflow -dataflow
</code></pre>
<p>And you can see the hints showing in the terminal, which means the dataflow is working.</p>
<h3 id="structure-of-related-files">Structure of related files</h3>
<p>After the two tasks are finished, the task and output files would appear as follows:</p>
<pre><code class="language-bash">UFO/
├── dataflow/
│   └── results/
│       ├── saved_document/         # Directory for saved documents
│       │   ├── bulleted.docx       # Result of the &quot;bulleted&quot; task
│       │   └── rotate.docx         # Result of the &quot;rotate&quot; task
│       ├── dataflow/                    # Dataflow results directory
│       │   ├── execution_pass/     # Successfully executed tasks
│       │   │   ├── bulleted.json   # Execution result for the &quot;bulleted&quot; task
│       │   │   ├── rotate.json      # Execution result for the &quot;rotate&quot; task
│       │   │   └── ...
└── ...
</code></pre>
<h3 id="result-files">Result files</h3>
<p>The result stucture of bulleted task is shown as below. This document provides a detailed breakdown of the task execution process for turning lines of text into a bulleted list in Word. It includes the original task description, execution results, and time analysis for each step.</p>
<ul>
<li><strong><code>unique_id</code></strong> : The identifier for the task, in this case, <code>"5"</code>.</li>
<li><strong><code>app</code></strong> : The application being used, which is <code>"word"</code>.</li>
<li>
<p><strong><code>original</code></strong> : Contains the original task description and the steps.</p>
</li>
<li>
<p><strong><code>original_task</code></strong> : Describes the task in simple terms (turning text into a bulleted list).</p>
</li>
<li><strong><code>original_steps</code></strong> : Lists the steps required to perform the task.</li>
<li>
<p><strong><code>execution_result</code></strong> : Provides the result of executing the task.</p>
</li>
<li>
<p><strong><code>result</code></strong> : Describes the outcome of the execution, including a success message and sub-scores for each part of the task. The <code>complete: "yes"</code> means the evaluation agent think the execution process is successful! The <code>sub_score</code> is the evaluation of each subtask, corresponding to the <code>instantiated_plan</code> in the  <code>prefill</code>.</p>
</li>
<li><strong><code>error</code></strong> : If any error occurred during execution, it would be reported here, but it's <code>null</code> in this case.</li>
<li>
<p><strong><code>instantiation_result</code></strong> : Details the instantiation of the task (setting up the task for execution).</p>
</li>
<li>
<p><strong><code>choose_template</code></strong> : Path to the template or document created during the task (in this case, the bulleted list document).</p>
</li>
<li><strong><code>prefill</code></strong> : Describes the <code>instantiated_request</code> and  <code>instantiated_plan</code> and the steps involved, such as selecting text and clicking buttons, which is the result of prefill flow. The <code>Success</code> and <code>MatchedControlText</code> is added in the execution process. <strong><code>Success</code></strong> indicates whether the subtask was executed successfully. <strong><code>MatchedControlText</code></strong> refers to the control text that was matched during the execution process based on the plan.</li>
<li><strong><code>instantiation_evaluation</code></strong> : Provides feedback on the task's feasibility and the evaluation of the request, which is result of the filter flow. <strong><code>"judge": true</code></strong> : This indicates that the evaluation of the task was positive, meaning the task is considered valid or successfully judged. And the <code>thought</code> is the detailed reason.</li>
<li><strong><code>time_cost</code></strong> : The time spent on different parts of the task, including template selection, prefill, instantiation evaluation, and execution. Total time is also given.</li>
</ul>
<p>This structure follows your description and provides the necessary details in a consistent format.</p>
<pre><code class="language-json">{
    &quot;unique_id&quot;: &quot;5&quot;,
    &quot;app&quot;: &quot;word&quot;,
    &quot;original&quot;: {
        &quot;original_task&quot;: &quot;Turning lines of text into a bulleted list in Word&quot;,
        &quot;original_steps&quot;: [
            &quot;1. Place the cursor at the beginning of the line of text you want to turn into a bulleted list&quot;,
            &quot;2. Click the Bullets button in the Paragraph group on the Home tab and choose a bullet style&quot;
        ]
    },
    &quot;execution_result&quot;: {
        &quot;result&quot;: {
            &quot;reason&quot;: &quot;The agent successfully selected the text 'text to edit' and then clicked on the 'Bullets' button in the Word application. The final screenshot shows that the text 'text to edit' has been converted into a bulleted list.&quot;,
            &quot;sub_scores&quot;: {
                &quot;text selection&quot;: &quot;yes&quot;,
                &quot;bulleted list conversion&quot;: &quot;yes&quot;
            },
            &quot;complete&quot;: &quot;yes&quot;
        },
        &quot;error&quot;: null
    },
    &quot;instantiation_result&quot;: {
        &quot;choose_template&quot;: {
            &quot;result&quot;: &quot;dataflow\\results\\saved_document\\bulleted.docx&quot;,
            &quot;error&quot;: null
        },
        &quot;prefill&quot;: {
            &quot;result&quot;: {
                &quot;instantiated_request&quot;: &quot;Turn the line of text 'text to edit' into a bulleted list in Word.&quot;,
                &quot;instantiated_plan&quot;: [
                    {
                        &quot;Step&quot;: 1,
                        &quot;Subtask&quot;: &quot;Place the cursor at the beginning of the text 'text to edit'&quot;,
                        &quot;ControlLabel&quot;: null,
                        &quot;ControlText&quot;: &quot;&quot;,
                        &quot;Function&quot;: &quot;select_text&quot;,
                        &quot;Args&quot;: {
                            &quot;text&quot;: &quot;text to edit&quot;
                        },
                        &quot;Success&quot;: true,
                        &quot;MatchedControlText&quot;: null
                    },
                    {
                        &quot;Step&quot;: 2,
                        &quot;Subtask&quot;: &quot;Click the Bullets button in the Paragraph group on the Home tab&quot;,
                        &quot;ControlLabel&quot;: &quot;61&quot;,
                        &quot;ControlText&quot;: &quot;Bullets&quot;,
                        &quot;Function&quot;: &quot;click_input&quot;,
                        &quot;Args&quot;: {
                            &quot;button&quot;: &quot;left&quot;,
                            &quot;double&quot;: false
                        },
                        &quot;Success&quot;: true,
                        &quot;MatchedControlText&quot;: &quot;Bullets&quot;
                    }
                ]
            },
            &quot;error&quot;: null
        },
        &quot;instantiation_evaluation&quot;: {
            &quot;result&quot;: {
                &quot;judge&quot;: true,
                &quot;thought&quot;: &quot;The task is specific and involves a basic function in Word that can be executed locally without any external dependencies.&quot;,
                &quot;request_type&quot;: &quot;None&quot;
            },
            &quot;error&quot;: null
        }
    },
    &quot;time_cost&quot;: {
        &quot;choose_template&quot;: 0.012,
        &quot;prefill&quot;: 15.649,
        &quot;instantiation_evaluation&quot;: 2.469,
        &quot;execute&quot;: 5.824,
        &quot;execute_eval&quot;: 8.702,
        &quot;total&quot;: 43.522
    }
}
</code></pre>
<h3 id="log-files">Log files</h3>
<p>The corresponding logs can be found in the directories <code>logs/bulleted</code> and <code>logs/rotate</code>, as shown below. Detailed logs for each workflow are recorded, capturing every step of the execution process.</p>
<h1 align="center">
    <img src="../../img/result_example.png"/> 
</h1>

<h2 id="reference">Reference</h2>
<h3 id="appenum">AppEnum</h3>


<div class="doc doc-object doc-class">



<a id="data_flow_controller.AppEnum"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.Enum">Enum</span></code></p>


        <p>Enum class for applications.</p>

        <p>Initialize the application enum.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>id</code></b>
                  (<code>int</code>)
              –
              <div class="doc-md-description">
                <p>The ID of the application.</p>
              </div>
            </li>
            <li>
              <b><code>description</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>The description of the application.</p>
              </div>
            </li>
            <li>
              <b><code>file_extension</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>The file extension of the application.</p>
              </div>
            </li>
            <li>
              <b><code>win_app</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>The Windows application name.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>





                  <details class="quote">
                    <summary>Source code in <code>dataflow/data_flow_controller.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">file_extension</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">win_app</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize the application enum.</span>
<span class="sd">    :param id: The ID of the application.</span>
<span class="sd">    :param description: The description of the application.</span>
<span class="sd">    :param file_extension: The file extension of the application.</span>
<span class="sd">    :param win_app: The Windows application name.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="n">description</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">file_extension</span> <span class="o">=</span> <span class="n">file_extension</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">win_app</span> <span class="o">=</span> <span class="n">win_app</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">app_root_name</span> <span class="o">=</span> <span class="n">win_app</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;.EXE&quot;</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">











  </div>

    </div>

</div><h3 id="taskobject">TaskObject</h3>


<div class="doc doc-object doc-class">



<a id="data_flow_controller.TaskObject"></a>
    <div class="doc doc-contents first">


        <p>Initialize the task object.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>task_file_path</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>The path to the task file.</p>
              </div>
            </li>
            <li>
              <b><code>task_type</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>The task_type of the task object (dataflow, instantiation, or execution).</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>





                  <details class="quote">
                    <summary>Source code in <code>dataflow/data_flow_controller.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task_file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">task_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize the task object.</span>
<span class="sd">    :param task_file_path: The path to the task file.</span>
<span class="sd">    :param task_type: The task_type of the task object (dataflow, instantiation, or execution).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">task_file_path</span> <span class="o">=</span> <span class="n">task_file_path</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">task_file_base_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">task_file_path</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">task_file_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_file_base_name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">task_json_file</span> <span class="o">=</span> <span class="n">load_json_file</span><span class="p">(</span><span class="n">task_file_path</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">app_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choose_app_from_json</span><span class="p">(</span><span class="n">task_json_file</span><span class="p">[</span><span class="s2">&quot;app&quot;</span><span class="p">])</span>
    <span class="c1"># Initialize the task attributes based on the task_type</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_init_attr</span><span class="p">(</span><span class="n">task_type</span><span class="p">,</span> <span class="n">task_json_file</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">











  </div>

    </div>

</div><h3 id="dataflowcontroller">DataFlowController</h3>


<div class="doc doc-object doc-class">



<a id="data_flow_controller.DataFlowController"></a>
    <div class="doc doc-contents first">


        <p>Flow controller class to manage the instantiation and execution process.</p>

        <p>Initialize the flow controller.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>task_path</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>The path to the task file.</p>
              </div>
            </li>
            <li>
              <b><code>task_type</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>The task_type of the flow controller (instantiation, execution, or dataflow).</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>





                  <details class="quote">
                    <summary>Source code in <code>dataflow/data_flow_controller.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">task_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize the flow controller.</span>
<span class="sd">    :param task_path: The path to the task file.</span>
<span class="sd">    :param task_type: The task_type of the flow controller (instantiation, execution, or dataflow).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">task_object</span> <span class="o">=</span> <span class="n">TaskObject</span><span class="p">(</span><span class="n">task_path</span><span class="p">,</span> <span class="n">task_type</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">app_env</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">app_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_object</span><span class="o">.</span><span class="n">app_object</span><span class="o">.</span><span class="n">description</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">task_file_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_object</span><span class="o">.</span><span class="n">task_file_name</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_schema</span><span class="p">(</span><span class="n">task_type</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">task_type</span> <span class="o">=</span> <span class="n">task_type</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">task_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">init_task_info</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">result_hub</span> <span class="o">=</span> <span class="n">_configs</span><span class="p">[</span><span class="s2">&quot;RESULT_HUB&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">task_type</span><span class="o">=</span><span class="n">task_type</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="data_flow_controller.DataFlowController.instantiated_plan" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">instantiated_plan</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Get the instantiated plan from the task information.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code><span title="typing.List">List</span>[<span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]]</code>
              –
              <div class="doc-md-description">
                <p>The instantiated plan.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="data_flow_controller.DataFlowController.template_copied_path" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">template_copied_path</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Get the copied template path from the task information.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code>str</code>
              –
              <div class="doc-md-description">
                <p>The copied template path.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>    </div>

</div>



<div class="doc doc-object doc-function">


<h2 id="data_flow_controller.DataFlowController.execute_execution" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">execute_execution</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">plan</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Execute the execution process.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>request</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>The task request to be executed.</p>
              </div>
            </li>
            <li>
              <b><code>plan</code></b>
                  (<code><span title="typing.Dict">Dict</span>[str, any]</code>)
              –
              <div class="doc-md-description">
                <p>The execution plan containing detailed steps.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
            <details class="quote">
              <summary>Source code in <code>dataflow/data_flow_controller.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">execute_execution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">plan</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Execute the execution process.</span>
<span class="sd">    :param request: The task request to be executed.</span>
<span class="sd">    :param plan: The execution plan containing detailed steps.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">print_with_color</span><span class="p">(</span><span class="s2">&quot;Executing the execution process...&quot;</span><span class="p">,</span> <span class="s2">&quot;blue&quot;</span><span class="p">)</span>
    <span class="n">execute_flow</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">app_env</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">template_copied_path</span><span class="p">)</span>
        <span class="c1"># Initialize the execution context and flow</span>
        <span class="n">context</span> <span class="o">=</span> <span class="n">Context</span><span class="p">()</span>
        <span class="n">execute_flow</span> <span class="o">=</span> <span class="n">ExecuteFlow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">task_file_name</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">app_env</span><span class="p">)</span>

        <span class="c1"># Execute the plan</span>
        <span class="n">executed_plan</span><span class="p">,</span> <span class="n">execute_result</span> <span class="o">=</span> <span class="n">execute_flow</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">plan</span><span class="p">)</span>

        <span class="c1"># Update the instantiated plan</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instantiated_plan</span> <span class="o">=</span> <span class="n">executed_plan</span>
        <span class="c1"># Record execution results and time metrics</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">task_info</span><span class="p">[</span><span class="s2">&quot;execution_result&quot;</span><span class="p">][</span><span class="s2">&quot;result&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">execute_result</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">task_info</span><span class="p">[</span><span class="s2">&quot;time_cost&quot;</span><span class="p">][</span><span class="s2">&quot;execute&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">execute_flow</span><span class="o">.</span><span class="n">execution_time</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">task_info</span><span class="p">[</span><span class="s2">&quot;time_cost&quot;</span><span class="p">][</span><span class="s2">&quot;execute_eval&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">execute_flow</span><span class="o">.</span><span class="n">eval_time</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="c1"># Handle and log any exceptions that occur during execution</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">task_info</span><span class="p">[</span><span class="s2">&quot;execution_result&quot;</span><span class="p">][</span><span class="s2">&quot;error&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">),</span>
            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
            <span class="s2">&quot;traceback&quot;</span><span class="p">:</span> <span class="n">traceback</span><span class="o">.</span><span class="n">format_exc</span><span class="p">(),</span>
        <span class="p">}</span>
        <span class="n">print_with_color</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error in Execution: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">e</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="c1"># Record the total time cost of the execution process</span>
        <span class="k">if</span> <span class="n">execute_flow</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">execute_flow</span><span class="p">,</span> <span class="s2">&quot;execution_time&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">task_info</span><span class="p">[</span><span class="s2">&quot;time_cost&quot;</span><span class="p">][</span><span class="s2">&quot;execute&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">execute_flow</span><span class="o">.</span><span class="n">execution_time</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">task_info</span><span class="p">[</span><span class="s2">&quot;time_cost&quot;</span><span class="p">][</span><span class="s2">&quot;execute&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">execute_flow</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">execute_flow</span><span class="p">,</span> <span class="s2">&quot;eval_time&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">task_info</span><span class="p">[</span><span class="s2">&quot;time_cost&quot;</span><span class="p">][</span><span class="s2">&quot;execute_eval&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">execute_flow</span><span class="o">.</span><span class="n">eval_time</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">task_info</span><span class="p">[</span><span class="s2">&quot;time_cost&quot;</span><span class="p">][</span><span class="s2">&quot;execute_eval&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="data_flow_controller.DataFlowController.execute_instantiation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">execute_instantiation</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Execute the instantiation process.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]]]</code>
              –
              <div class="doc-md-description">
                <p>The instantiation plan if successful.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
            <details class="quote">
              <summary>Source code in <code>dataflow/data_flow_controller.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">execute_instantiation</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Execute the instantiation process.</span>
<span class="sd">    :return: The instantiation plan if successful.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">print_with_color</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Instantiating task </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">task_object</span><span class="o">.</span><span class="n">task_file_name</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">,</span> <span class="s2">&quot;blue&quot;</span><span class="p">)</span>

    <span class="n">template_copied_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">instantiation_single_flow</span><span class="p">(</span>
        <span class="n">ChooseTemplateFlow</span><span class="p">,</span> <span class="s2">&quot;choose_template&quot;</span><span class="p">,</span> 
        <span class="n">init_params</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">task_object</span><span class="o">.</span><span class="n">app_object</span><span class="o">.</span><span class="n">file_extension</span><span class="p">],</span>
        <span class="n">execute_params</span><span class="o">=</span><span class="p">[]</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">template_copied_path</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">app_env</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">template_copied_path</span><span class="p">)</span>

        <span class="n">prefill_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">instantiation_single_flow</span><span class="p">(</span>
            <span class="n">PrefillFlow</span><span class="p">,</span> <span class="s2">&quot;prefill&quot;</span><span class="p">,</span> 
            <span class="n">init_params</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">app_env</span><span class="p">],</span>
            <span class="n">execute_params</span><span class="o">=</span><span class="p">[</span><span class="n">template_copied_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_object</span><span class="o">.</span><span class="n">task</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_object</span><span class="o">.</span><span class="n">refined_steps</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">app_env</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">prefill_result</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">instantiation_single_flow</span><span class="p">(</span>
                <span class="n">FilterFlow</span><span class="p">,</span> <span class="s2">&quot;instantiation_evaluation&quot;</span><span class="p">,</span>
                <span class="n">init_params</span><span class="o">=</span><span class="p">[],</span>
                <span class="n">execute_params</span><span class="o">=</span><span class="p">[</span><span class="n">prefill_result</span><span class="p">[</span><span class="s2">&quot;instantiated_request&quot;</span><span class="p">]]</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">prefill_result</span><span class="p">[</span><span class="s2">&quot;instantiated_plan&quot;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="data_flow_controller.DataFlowController.init_task_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">init_task_info</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Initialize the task information.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
              –
              <div class="doc-md-description">
                <p>The initialized task information.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
            <details class="quote">
              <summary>Source code in <code>dataflow/data_flow_controller.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">init_task_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span> 
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize the task information.</span>
<span class="sd">    :return: The initialized task information.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">init_task_info</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_type</span> <span class="o">==</span> <span class="s2">&quot;execution&quot;</span><span class="p">:</span>
        <span class="c1"># read from the instantiated task file</span>
        <span class="n">init_task_info</span> <span class="o">=</span> <span class="n">load_json_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">task_object</span><span class="o">.</span><span class="n">task_file_path</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">init_task_info</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;unique_id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_object</span><span class="o">.</span><span class="n">unique_id</span><span class="p">,</span>
            <span class="s2">&quot;app&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">app_name</span><span class="p">,</span>
            <span class="s2">&quot;original&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;original_task&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_object</span><span class="o">.</span><span class="n">task</span><span class="p">,</span>
                <span class="s2">&quot;original_steps&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_object</span><span class="o">.</span><span class="n">refined_steps</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;execution_result&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">},</span>
            <span class="s2">&quot;instantiation_result&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;choose_template&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">},</span>
                <span class="s2">&quot;prefill&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">},</span>
                <span class="s2">&quot;instantiation_evaluation&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">},</span>
            <span class="p">},</span>
            <span class="s2">&quot;time_cost&quot;</span><span class="p">:</span> <span class="p">{},</span>
        <span class="p">}</span>
    <span class="k">return</span> <span class="n">init_task_info</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="data_flow_controller.DataFlowController.instantiation_single_flow" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">instantiation_single_flow</span><span class="p">(</span><span class="n">flow_class</span><span class="p">,</span> <span class="n">flow_type</span><span class="p">,</span> <span class="n">init_params</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">execute_params</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Execute a single flow process in the instantiation phase.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>flow_class</code></b>
                  (<code><span title="ufo.agents.processors.app_agent_processor.AppAgentProcessor">AppAgentProcessor</span></code>)
              –
              <div class="doc-md-description">
                <p>The flow class to instantiate.</p>
              </div>
            </li>
            <li>
              <b><code>flow_type</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>The type of the flow.</p>
              </div>
            </li>
            <li>
              <b><code>init_params</code></b>
              –
              <div class="doc-md-description">
                <p>The initialization parameters for the flow.</p>
              </div>
            </li>
            <li>
              <b><code>execute_params</code></b>
              –
              <div class="doc-md-description">
                <p>The execution parameters for the flow.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]]</code>
              –
              <div class="doc-md-description">
                <p>The result of the flow process.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
            <details class="quote">
              <summary>Source code in <code>dataflow/data_flow_controller.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">instantiation_single_flow</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> 
        <span class="n">flow_class</span><span class="p">:</span> <span class="n">AppAgentProcessor</span><span class="p">,</span> 
        <span class="n">flow_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> 
        <span class="n">init_params</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> 
        <span class="n">execute_params</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Execute a single flow process in the instantiation phase.</span>
<span class="sd">    :param flow_class: The flow class to instantiate.</span>
<span class="sd">    :param flow_type: The type of the flow.</span>
<span class="sd">    :param init_params: The initialization parameters for the flow.</span>
<span class="sd">    :param execute_params: The execution parameters for the flow.</span>
<span class="sd">    :return: The result of the flow process.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">flow_instance</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">flow_instance</span> <span class="o">=</span> <span class="n">flow_class</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_file_name</span><span class="p">,</span> <span class="o">*</span><span class="n">init_params</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">flow_instance</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="o">*</span><span class="n">execute_params</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">task_info</span><span class="p">[</span><span class="s2">&quot;instantiation_result&quot;</span><span class="p">][</span><span class="n">flow_type</span><span class="p">][</span><span class="s2">&quot;result&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">task_info</span><span class="p">[</span><span class="s2">&quot;instantiation_result&quot;</span><span class="p">][</span><span class="n">flow_type</span><span class="p">][</span><span class="s2">&quot;error&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="vm">__class__</span><span class="p">),</span>
            <span class="s2">&quot;error_message&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
            <span class="s2">&quot;traceback&quot;</span><span class="p">:</span> <span class="n">traceback</span><span class="o">.</span><span class="n">format_exc</span><span class="p">(),</span>
        <span class="p">}</span>
        <span class="n">print_with_color</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error in </span><span class="si">{</span><span class="n">flow_type</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">traceback</span><span class="o">.</span><span class="n">format_exc</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">flow_instance</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">flow_instance</span><span class="p">,</span> <span class="s2">&quot;execution_time&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">task_info</span><span class="p">[</span><span class="s2">&quot;time_cost&quot;</span><span class="p">][</span><span class="n">flow_type</span><span class="p">]</span> <span class="o">=</span> <span class="n">flow_instance</span><span class="o">.</span><span class="n">execution_time</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">task_info</span><span class="p">[</span><span class="s2">&quot;time_cost&quot;</span><span class="p">][</span><span class="n">flow_type</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="data_flow_controller.DataFlowController.run" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">run</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Run the instantiation and execution process.</p>

            <details class="quote">
              <summary>Source code in <code>dataflow/data_flow_controller.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Run the instantiation and execution process.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">app_env</span> <span class="o">=</span> <span class="n">WindowsAppEnv</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">task_object</span><span class="o">.</span><span class="n">app_object</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_type</span> <span class="o">==</span> <span class="s2">&quot;dataflow&quot;</span><span class="p">:</span>
            <span class="n">plan</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">execute_instantiation</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">execute_execution</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">task_object</span><span class="o">.</span><span class="n">task</span><span class="p">,</span> <span class="n">plan</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_type</span> <span class="o">==</span> <span class="s2">&quot;instantiation&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">execute_instantiation</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_type</span> <span class="o">==</span> <span class="s2">&quot;execution&quot;</span><span class="p">:</span>
            <span class="n">plan</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">instantiated_plan</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">execute_execution</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">task_object</span><span class="o">.</span><span class="n">task</span><span class="p">,</span> <span class="n">plan</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported task_type: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">task_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">e</span>

    <span class="k">finally</span><span class="p">:</span>
        <span class="c1"># Update or record the total time cost of the process</span>
        <span class="n">total_time</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">new_total_time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;time_cost&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;total&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="n">total_time</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">task_info</span><span class="p">[</span><span class="s2">&quot;time_cost&quot;</span><span class="p">][</span><span class="s2">&quot;total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">new_total_time</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">save_result</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="data_flow_controller.DataFlowController.save_result" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">save_result</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Validate and save the instantiated task result.</p>

            <details class="quote">
              <summary>Source code in <code>dataflow/data_flow_controller.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">save_result</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Validate and save the instantiated task result.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">validation_error</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Validate the result against the schema</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">validate</span><span class="p">(</span><span class="n">instance</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">task_info</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="c1"># Record the validation error but allow the process to continue</span>
        <span class="n">validation_error</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
        <span class="n">print_with_color</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Validation Error: </span><span class="si">{</span><span class="n">e</span><span class="o">.</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;yellow&quot;</span><span class="p">)</span>

    <span class="c1"># Determine the target directory based on task_type and quality/completeness</span>
    <span class="n">target_file</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_type</span> <span class="o">==</span> <span class="s2">&quot;instantiation&quot;</span><span class="p">:</span>
        <span class="c1"># Determine the quality of the instantiation</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_info</span><span class="p">[</span><span class="s2">&quot;instantiation_result&quot;</span><span class="p">][</span><span class="s2">&quot;instantiation_evaluation&quot;</span><span class="p">][</span><span class="s2">&quot;result&quot;</span><span class="p">]:</span>
            <span class="n">target_file</span> <span class="o">=</span> <span class="n">INSTANTIATION_RESULT_MAP</span><span class="p">[</span><span class="kc">False</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">is_quality_good</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_info</span><span class="p">[</span><span class="s2">&quot;instantiation_result&quot;</span><span class="p">][</span><span class="s2">&quot;instantiation_evaluation&quot;</span><span class="p">][</span><span class="s2">&quot;result&quot;</span><span class="p">][</span><span class="s2">&quot;judge&quot;</span><span class="p">]</span>
            <span class="n">target_file</span> <span class="o">=</span> <span class="n">INSTANTIATION_RESULT_MAP</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">is_quality_good</span><span class="p">,</span> <span class="n">INSTANTIATION_RESULT_MAP</span><span class="p">[</span><span class="kc">False</span><span class="p">])</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Determine the completion status of the execution</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_info</span><span class="p">[</span><span class="s2">&quot;execution_result&quot;</span><span class="p">][</span><span class="s2">&quot;result&quot;</span><span class="p">]:</span>
            <span class="n">target_file</span> <span class="o">=</span> <span class="n">EXECUTION_RESULT_MAP</span><span class="p">[</span><span class="s2">&quot;no&quot;</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">is_completed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_info</span><span class="p">[</span><span class="s2">&quot;execution_result&quot;</span><span class="p">][</span><span class="s2">&quot;result&quot;</span><span class="p">][</span><span class="s2">&quot;complete&quot;</span><span class="p">]</span>
            <span class="n">target_file</span> <span class="o">=</span> <span class="n">EXECUTION_RESULT_MAP</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">is_completed</span><span class="p">,</span> <span class="n">EXECUTION_RESULT_MAP</span><span class="p">[</span><span class="s2">&quot;no&quot;</span><span class="p">])</span>

    <span class="c1"># Construct the full path to save the result</span>
    <span class="n">new_task_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">result_hub</span><span class="p">,</span> <span class="n">target_file</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_object</span><span class="o">.</span><span class="n">task_file_base_name</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">new_task_path</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">save_json_file</span><span class="p">(</span><span class="n">new_task_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_info</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Task saved to </span><span class="si">{</span><span class="n">new_task_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># If validation failed, indicate that the saved result may need further inspection</span>
    <span class="k">if</span> <span class="n">validation_error</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The saved task result does not conform to the expected schema and may require review.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><div class="admonition note">
<p class="admonition-title">Note</p>
<ol>
<li>Users should be careful to save the original files while using this project; otherwise, the files will be closed when the app is shut down.</li>
<li>After starting the project, users should not close the app window while the program is taking screenshots.</li>
</ol>
</div>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../creating_app_agent/warpping_app_native_api/" class="btn btn-neutral float-left" title="Warpping App-Native API"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../instantiation/" class="btn btn-neutral float-right" title="Instantiation">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../../creating_app_agent/warpping_app_native_api/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../instantiation/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
